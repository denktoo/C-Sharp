@{
    ViewData["Title"] = "View User Details";
}

<div class="container mt-4">
    <h2>User Details</h2>

    <!-- User Information -->
    <div class="card mb-4">
        <div class="card-body">
            <h4 data-bind="text: user().name"></h4>
            <p><strong>Email:</strong> <span data-bind="text: user().email"></span></p>
            <p><strong>Role:</strong> <span data-bind="text: user().role"></span></p>
            <p><strong>Total Workouts:</strong> <span data-bind="text: user().WorkoutsCount"></span></p>
            <p><strong>Goals Achieved:</strong> <span data-bind="text: user().goalsAchievedCount"></span></p>
        </div>
    </div>

    <!-- Workouts Section -->
    <div class="card mb-4">
        <div class="card-header bg-info text-white">
            <h5>Workouts</h5>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Duration (mins)</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: recentWorkouts">
                    <!-- For recent workouts -->
                    <tr>
                        <td data-bind:text: date></td>
                        <td data-bind: duration></td>
                    </tr>
                </tbody>
                <!-- When there is no workouts -->
                <tbody data-bind="visible: recentWorkouts().length === 0">
                    <tr>
                        <td colspan="2" class="text-center">No workouts found.</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <!-- Goals Section -->
    <div class="card">
        <div class="card-header bg-success text-white">
            <h5>Goals</h5>
        </div>
        <div class="card-body">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th>Description</th>
                        <th>Target Date</th>
                    </tr>
                </thead>
                <tbody data-bind="foreach: recentGoals">
                    <!-- For recent goals -->
                    <tr>
                        <td data-bind="text: description"></td>
                        <td data-bind="text: targetDate"></td>
                    </tr>
                </tbody>
                <!-- When no goals are available -->
                <tbody data-bind="visible: recentGoals().length === 0">
                    <tr>
                        <td colspan="2" class="text-center">No goals found.</td>
                    </tr>
                </tbody>

            </table>
        </div>
    </div>
    <div class="mb-3">
        <a href="/Admin/Dashboard" class="btn btn-primary mt-2">Back to Dashboard</a>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/knockout/build/output/knockout-latest.js"></script>
<script src="~/js/Admin.js" asp-append-version="true"></script>